<!-- <form class="flex flex-col gap-5" #form="ngForm" (ngSubmit)="onSubmit(form)">
  <h1 class="font-bold text-3xl">Add new Ingredient</h1>
  <div class="flex gap-5 items-center">
    <div class="grid">
      <label class="input-label">Name</label>
      <input ngModel type="text" class="input" name="name" />
    </div>
    <div class="grid">
      <label class="input-label">Amount</label>
      <input ngModel type="number" class="input" name="amount" />
    </div>
  </div>
  <div class="flex gap-5">
    <button type="submit" class="button info w-20">Add</button>
    <button
      type="button"
      class="button green w-20"
      (click)="onClearShoopingList()"
    >
      clear
    </button>
  </div>
</form> -->

<form
  class="flex flex-col gap-5"
  [formGroup]="shoppingForm"
  (ngSubmit)="onSubmit()"
>
  <h1 class="font-bold text-3xl">Add new Ingredient</h1>
  <div class="flex gap-5 items-center" formGroupName="ingredients">
    <div class="grid">
      <label class="input-label"
        >Name <span class="text-red-600">*</span>
      </label>
      <input type="text" class="input" name="name" formControlName="name" />
      <span
        *ngIf="
          !shoppingForm.get('ingredients.name')?.valid &&
          shoppingForm.get('ingredients.name')?.touched &&
          shoppingForm.get('ingredients.name')?.errors !== null
        "
        class="text-red-600 text-sm"
      >
        <span
          *ngIf="
            (shoppingForm.get('ingredients.name')?.errors)!['nameIsForbidden']
          "
          >Apples are not allowed</span
        >
        <span
          *ngIf="(shoppingForm.get('ingredients.name')?.errors)!['required']"
          >The name is required</span
        >
      </span>
    </div>
    <div class="grid">
      <label class="input-label"
        >Amount <span class="text-red-600">*</span>
      </label>
      <input
        type="number"
        class="input"
        name="amount"
        formControlName="amount"
      />
      <span
        *ngIf="
          !shoppingForm.get('ingredients.amount')!.valid &&
          shoppingForm.get('ingredients.amount')!.touched
        "
        class="text-red-600 text-sm"
      >
        <span
          *ngIf="
            shoppingForm.get('ingredients.amount')!.errors!['amountForbidden']
          "
          >This amount is to big</span
        >
        <span
          *ngIf="shoppingForm.get('ingredients.amount')!.errors!['required']"
          >This amount required</span
        >
        <span *ngIf="shoppingForm.get('ingredients.amount')!.errors!['min']"
          >The amount have to be at leats 1</span
        >
      </span>
    </div>
  </div>
  <div class="flex gap-5">
    <button type="submit" class="button info w-20">Add</button>
    <button
      type="button"
      class="button green w-20"
      (click)="onClearShoopingList()"
    >
      clear
    </button>
  </div>
</form>
